2025-05-20T13:01:46.311Z [error]: Error connecting to MongoDB: Authentication failed. 
2025-05-20T13:01:46.312Z [error]: Error connecting to MongoDB: Authentication failed. 
2025-05-20T13:01:46.312Z [error]: Error connecting to MongoDB: Authentication failed. 
2025-05-20T13:01:48.150Z [error]: Error connecting to MongoDB: Authentication failed. 
2025-05-20T13:01:48.174Z [error]: Error connecting to MongoDB: Authentication failed. 
2025-05-20T13:01:48.176Z [error]: Error connecting to MongoDB: Authentication failed. 
2025-05-20T13:01:49.860Z [error]: Error connecting to MongoDB: Authentication failed. 
2025-05-20T13:01:50.021Z [error]: Error connecting to MongoDB: Authentication failed. 
2025-05-20T13:01:50.032Z [error]: Error connecting to MongoDB: Authentication failed. 
2025-05-20T13:01:52.890Z [error]: Error connecting to MongoDB: Authentication failed. 
2025-05-20T13:01:52.903Z [error]: Error connecting to MongoDB: Authentication failed. 
2025-05-20T13:01:52.896Z [error]: Error connecting to MongoDB: Authentication failed. 
2025-05-20T13:04:20.726Z [error]: Error connecting to MongoDB: Authentication failed. 
2025-05-20T13:04:22.662Z [error]: Error connecting to MongoDB: Authentication failed. 
2025-05-20T13:04:24.317Z [error]: Error connecting to MongoDB: Authentication failed. 
2025-05-20T13:04:26.119Z [error]: Error connecting to MongoDB: Authentication failed. 
2025-05-20T13:08:28.151Z [error]: Error connecting to MongoDB: Authentication failed. 
2025-05-20T13:08:29.760Z [error]: Error connecting to MongoDB: Authentication failed. 
2025-05-20T13:08:31.334Z [error]: Error connecting to MongoDB: Authentication failed. 
2025-05-20T13:08:33.130Z [error]: Error connecting to MongoDB: Authentication failed. 
2025-05-20T13:33:24.335Z [error]: Error connecting to MongoDB: connect ECONNREFUSED 172.19.0.2:27017 
2025-05-20T13:33:24.339Z [error]: Error connecting to MongoDB: connect ECONNREFUSED 172.19.0.2:27017 
2025-05-20T13:33:24.910Z [error]: Error connecting to MongoDB: connect ECONNREFUSED 172.19.0.2:27017 
2025-06-13T02:57:00.055Z [error]: Error connecting to MongoDB: connect ECONNREFUSED 172.19.0.5:27018 
2025-06-13T02:57:00.107Z [error]: Error connecting to MongoDB: connect ECONNREFUSED 172.19.0.5:27018 
2025-06-13T02:57:00.191Z [error]: Error connecting to MongoDB: connect ECONNREFUSED 172.19.0.5:27018 
2025-06-13T02:57:06.280Z [error]: Error connecting to MongoDB: connect ECONNREFUSED 172.19.0.5:27018 
2025-06-13T02:57:06.332Z [error]: Error connecting to MongoDB: connect ECONNREFUSED 172.19.0.5:27018 
2025-06-13T02:57:06.342Z [error]: Error connecting to MongoDB: connect ECONNREFUSED 172.19.0.5:27018 
2025-06-13T02:57:12.572Z [error]: Error connecting to MongoDB: connect ECONNREFUSED 172.19.0.5:27018 
2025-06-13T02:57:12.699Z [error]: Error connecting to MongoDB: connect ECONNREFUSED 172.19.0.5:27018 
2025-06-13T02:57:12.701Z [error]: Error connecting to MongoDB: connect ECONNREFUSED 172.19.0.5:27018 
2025-06-13T02:57:18.947Z [error]: Error connecting to MongoDB: connect ECONNREFUSED 172.19.0.5:27018 
2025-06-13T02:57:18.960Z [error]: Error connecting to MongoDB: connect ECONNREFUSED 172.19.0.5:27018 
2025-06-13T02:57:18.980Z [error]: Error connecting to MongoDB: connect ECONNREFUSED 172.19.0.5:27018 
2025-06-13T03:06:09.553Z [error]: Error connecting to MongoDB: connect ECONNREFUSED 172.19.0.5:27018 
2025-06-13T03:06:15.660Z [error]: Error connecting to MongoDB: connect ECONNREFUSED 172.19.0.5:27018 
2025-06-13T03:06:22.213Z [error]: Error connecting to MongoDB: connect ECONNREFUSED 172.19.0.5:27018 
2025-06-13T03:06:28.896Z [error]: Error connecting to MongoDB: connect ECONNREFUSED 172.19.0.5:27018 
2025-06-13T04:54:35.387Z [error]: Error verifying token with auth service Converting circular structure to JSON
    --> starting at object with constructor 'Agent'
    |     property 'sockets' -> object with constructor 'Object'
    |     property 'auth-service:3000:' -> object with constructor 'Array'
    |     ...
    |     property '_httpMessage' -> object with constructor 'ClientRequest'
    --- property 'agent' closes the circle {
  "stack": "TypeError: Converting circular structure to JSON\n    --> starting at object with constructor 'Agent'\n    |     property 'sockets' -> object with constructor 'Object'\n    |     property 'auth-service:3000:' -> object with constructor 'Array'\n    |     ...\n    |     property '_httpMessage' -> object with constructor 'ClientRequest'\n    --- property 'agent' closes the circle\n    at JSON.stringify (<anonymous>)\n    at Printf.template (/usr/src/app/utils/logger.js:8:37)\n    at Printf.transform (/usr/src/app/node_modules/logform/printf.js:11:26)\n    at Format.transform (/usr/src/app/node_modules/logform/combine.js:20:24)\n    at DerivedLogger._transform (/usr/src/app/node_modules/winston/lib/winston/logger.js:314:29)\n    at Transform._read (/usr/src/app/node_modules/readable-stream/lib/_stream_transform.js:166:10)\n    at Transform._write (/usr/src/app/node_modules/readable-stream/lib/_stream_transform.js:155:83)\n    at doWrite (/usr/src/app/node_modules/readable-stream/lib/_stream_writable.js:390:139)\n    at writeOrBuffer (/usr/src/app/node_modules/readable-stream/lib/_stream_writable.js:381:5)\n    at Writable.write (/usr/src/app/node_modules/readable-stream/lib/_stream_writable.js:302:11)\n    at Axios.request (/usr/src/app/node_modules/axios/dist/node/axios.cjs:4276:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async authenticate (/usr/src/app/middlewares/auth.middleware.js:24:26)"
}
2025-06-13T04:54:41.553Z [error]: Error verifying token with auth service Converting circular structure to JSON
    --> starting at object with constructor 'Agent'
    |     property 'sockets' -> object with constructor 'Object'
    |     property 'auth-service:3000:' -> object with constructor 'Array'
    |     ...
    |     property '_httpMessage' -> object with constructor 'ClientRequest'
    --- property 'agent' closes the circle {
  "stack": "TypeError: Converting circular structure to JSON\n    --> starting at object with constructor 'Agent'\n    |     property 'sockets' -> object with constructor 'Object'\n    |     property 'auth-service:3000:' -> object with constructor 'Array'\n    |     ...\n    |     property '_httpMessage' -> object with constructor 'ClientRequest'\n    --- property 'agent' closes the circle\n    at JSON.stringify (<anonymous>)\n    at Printf.template (/usr/src/app/utils/logger.js:8:37)\n    at Printf.transform (/usr/src/app/node_modules/logform/printf.js:11:26)\n    at Format.transform (/usr/src/app/node_modules/logform/combine.js:20:24)\n    at DerivedLogger._transform (/usr/src/app/node_modules/winston/lib/winston/logger.js:314:29)\n    at Transform._read (/usr/src/app/node_modules/readable-stream/lib/_stream_transform.js:166:10)\n    at Transform._write (/usr/src/app/node_modules/readable-stream/lib/_stream_transform.js:155:83)\n    at doWrite (/usr/src/app/node_modules/readable-stream/lib/_stream_writable.js:390:139)\n    at writeOrBuffer (/usr/src/app/node_modules/readable-stream/lib/_stream_writable.js:381:5)\n    at Writable.write (/usr/src/app/node_modules/readable-stream/lib/_stream_writable.js:302:11)\n    at Axios.request (/usr/src/app/node_modules/axios/dist/node/axios.cjs:4276:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async authenticate (/usr/src/app/middlewares/auth.middleware.js:24:26)"
}
2025-06-13T04:57:54.221Z [error]: Error verifying token with auth service Converting circular structure to JSON
    --> starting at object with constructor 'Agent'
    |     property 'sockets' -> object with constructor 'Object'
    |     property 'user-service-user-service:7100:' -> object with constructor 'Array'
    |     ...
    |     property '_httpMessage' -> object with constructor 'ClientRequest'
    --- property 'agent' closes the circle {
  "stack": "TypeError: Converting circular structure to JSON\n    --> starting at object with constructor 'Agent'\n    |     property 'sockets' -> object with constructor 'Object'\n    |     property 'user-service-user-service:7100:' -> object with constructor 'Array'\n    |     ...\n    |     property '_httpMessage' -> object with constructor 'ClientRequest'\n    --- property 'agent' closes the circle\n    at JSON.stringify (<anonymous>)\n    at Printf.template (/usr/src/app/utils/logger.js:8:37)\n    at Printf.transform (/usr/src/app/node_modules/logform/printf.js:11:26)\n    at Format.transform (/usr/src/app/node_modules/logform/combine.js:20:24)\n    at DerivedLogger._transform (/usr/src/app/node_modules/winston/lib/winston/logger.js:314:29)\n    at Transform._read (/usr/src/app/node_modules/readable-stream/lib/_stream_transform.js:166:10)\n    at Transform._write (/usr/src/app/node_modules/readable-stream/lib/_stream_transform.js:155:83)\n    at doWrite (/usr/src/app/node_modules/readable-stream/lib/_stream_writable.js:390:139)\n    at writeOrBuffer (/usr/src/app/node_modules/readable-stream/lib/_stream_writable.js:381:5)\n    at Writable.write (/usr/src/app/node_modules/readable-stream/lib/_stream_writable.js:302:11)\n    at Axios.request (/usr/src/app/node_modules/axios/dist/node/axios.cjs:4276:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async authenticate (/usr/src/app/middlewares/auth.middleware.js:24:26)"
}
2025-06-13T04:57:56.883Z [error]: Error verifying token with auth service Converting circular structure to JSON
    --> starting at object with constructor 'Agent'
    |     property 'sockets' -> object with constructor 'Object'
    |     property 'user-service-user-service:7100:' -> object with constructor 'Array'
    |     ...
    |     property '_httpMessage' -> object with constructor 'ClientRequest'
    --- property 'agent' closes the circle {
  "stack": "TypeError: Converting circular structure to JSON\n    --> starting at object with constructor 'Agent'\n    |     property 'sockets' -> object with constructor 'Object'\n    |     property 'user-service-user-service:7100:' -> object with constructor 'Array'\n    |     ...\n    |     property '_httpMessage' -> object with constructor 'ClientRequest'\n    --- property 'agent' closes the circle\n    at JSON.stringify (<anonymous>)\n    at Printf.template (/usr/src/app/utils/logger.js:8:37)\n    at Printf.transform (/usr/src/app/node_modules/logform/printf.js:11:26)\n    at Format.transform (/usr/src/app/node_modules/logform/combine.js:20:24)\n    at DerivedLogger._transform (/usr/src/app/node_modules/winston/lib/winston/logger.js:314:29)\n    at Transform._read (/usr/src/app/node_modules/readable-stream/lib/_stream_transform.js:166:10)\n    at Transform._write (/usr/src/app/node_modules/readable-stream/lib/_stream_transform.js:155:83)\n    at doWrite (/usr/src/app/node_modules/readable-stream/lib/_stream_writable.js:390:139)\n    at writeOrBuffer (/usr/src/app/node_modules/readable-stream/lib/_stream_writable.js:381:5)\n    at Writable.write (/usr/src/app/node_modules/readable-stream/lib/_stream_writable.js:302:11)\n    at Axios.request (/usr/src/app/node_modules/axios/dist/node/axios.cjs:4276:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async authenticate (/usr/src/app/middlewares/auth.middleware.js:24:26)"
}
2025-06-13T04:57:57.785Z [error]: Error verifying token with auth service Converting circular structure to JSON
    --> starting at object with constructor 'Agent'
    |     property 'sockets' -> object with constructor 'Object'
    |     property 'user-service-user-service:7100:' -> object with constructor 'Array'
    |     ...
    |     property '_httpMessage' -> object with constructor 'ClientRequest'
    --- property 'agent' closes the circle {
  "stack": "TypeError: Converting circular structure to JSON\n    --> starting at object with constructor 'Agent'\n    |     property 'sockets' -> object with constructor 'Object'\n    |     property 'user-service-user-service:7100:' -> object with constructor 'Array'\n    |     ...\n    |     property '_httpMessage' -> object with constructor 'ClientRequest'\n    --- property 'agent' closes the circle\n    at JSON.stringify (<anonymous>)\n    at Printf.template (/usr/src/app/utils/logger.js:8:37)\n    at Printf.transform (/usr/src/app/node_modules/logform/printf.js:11:26)\n    at Format.transform (/usr/src/app/node_modules/logform/combine.js:20:24)\n    at DerivedLogger._transform (/usr/src/app/node_modules/winston/lib/winston/logger.js:314:29)\n    at Transform._read (/usr/src/app/node_modules/readable-stream/lib/_stream_transform.js:166:10)\n    at Transform._write (/usr/src/app/node_modules/readable-stream/lib/_stream_transform.js:155:83)\n    at doWrite (/usr/src/app/node_modules/readable-stream/lib/_stream_writable.js:390:139)\n    at writeOrBuffer (/usr/src/app/node_modules/readable-stream/lib/_stream_writable.js:381:5)\n    at Writable.write (/usr/src/app/node_modules/readable-stream/lib/_stream_writable.js:302:11)\n    at Axios.request (/usr/src/app/node_modules/axios/dist/node/axios.cjs:4276:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async authenticate (/usr/src/app/middlewares/auth.middleware.js:24:26)"
}
2025-06-13T04:57:58.840Z [error]: Error verifying token with auth service Converting circular structure to JSON
    --> starting at object with constructor 'Agent'
    |     property 'sockets' -> object with constructor 'Object'
    |     property 'user-service-user-service:7100:' -> object with constructor 'Array'
    |     ...
    |     property '_httpMessage' -> object with constructor 'ClientRequest'
    --- property 'agent' closes the circle {
  "stack": "TypeError: Converting circular structure to JSON\n    --> starting at object with constructor 'Agent'\n    |     property 'sockets' -> object with constructor 'Object'\n    |     property 'user-service-user-service:7100:' -> object with constructor 'Array'\n    |     ...\n    |     property '_httpMessage' -> object with constructor 'ClientRequest'\n    --- property 'agent' closes the circle\n    at JSON.stringify (<anonymous>)\n    at Printf.template (/usr/src/app/utils/logger.js:8:37)\n    at Printf.transform (/usr/src/app/node_modules/logform/printf.js:11:26)\n    at Format.transform (/usr/src/app/node_modules/logform/combine.js:20:24)\n    at DerivedLogger._transform (/usr/src/app/node_modules/winston/lib/winston/logger.js:314:29)\n    at Transform._read (/usr/src/app/node_modules/readable-stream/lib/_stream_transform.js:166:10)\n    at Transform._write (/usr/src/app/node_modules/readable-stream/lib/_stream_transform.js:155:83)\n    at doWrite (/usr/src/app/node_modules/readable-stream/lib/_stream_writable.js:390:139)\n    at writeOrBuffer (/usr/src/app/node_modules/readable-stream/lib/_stream_writable.js:381:5)\n    at Writable.write (/usr/src/app/node_modules/readable-stream/lib/_stream_writable.js:302:11)\n    at Axios.request (/usr/src/app/node_modules/axios/dist/node/axios.cjs:4276:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async authenticate (/usr/src/app/middlewares/auth.middleware.js:24:26)"
}
2025-06-13T04:57:59.577Z [error]: Error verifying token with auth service Converting circular structure to JSON
    --> starting at object with constructor 'Agent'
    |     property 'sockets' -> object with constructor 'Object'
    |     property 'user-service-user-service:7100:' -> object with constructor 'Array'
    |     ...
    |     property '_httpMessage' -> object with constructor 'ClientRequest'
    --- property 'agent' closes the circle {
  "stack": "TypeError: Converting circular structure to JSON\n    --> starting at object with constructor 'Agent'\n    |     property 'sockets' -> object with constructor 'Object'\n    |     property 'user-service-user-service:7100:' -> object with constructor 'Array'\n    |     ...\n    |     property '_httpMessage' -> object with constructor 'ClientRequest'\n    --- property 'agent' closes the circle\n    at JSON.stringify (<anonymous>)\n    at Printf.template (/usr/src/app/utils/logger.js:8:37)\n    at Printf.transform (/usr/src/app/node_modules/logform/printf.js:11:26)\n    at Format.transform (/usr/src/app/node_modules/logform/combine.js:20:24)\n    at DerivedLogger._transform (/usr/src/app/node_modules/winston/lib/winston/logger.js:314:29)\n    at Transform._read (/usr/src/app/node_modules/readable-stream/lib/_stream_transform.js:166:10)\n    at Transform._write (/usr/src/app/node_modules/readable-stream/lib/_stream_transform.js:155:83)\n    at doWrite (/usr/src/app/node_modules/readable-stream/lib/_stream_writable.js:390:139)\n    at writeOrBuffer (/usr/src/app/node_modules/readable-stream/lib/_stream_writable.js:381:5)\n    at Writable.write (/usr/src/app/node_modules/readable-stream/lib/_stream_writable.js:302:11)\n    at Axios.request (/usr/src/app/node_modules/axios/dist/node/axios.cjs:4276:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async authenticate (/usr/src/app/middlewares/auth.middleware.js:24:26)"
}
2025-06-13T05:01:57.430Z [error]: Error verifying token with auth service Converting circular structure to JSON
    --> starting at object with constructor 'Agent'
    |     property 'sockets' -> object with constructor 'Object'
    |     property 'user-service-user-service:7100:' -> object with constructor 'Array'
    |     ...
    |     property '_httpMessage' -> object with constructor 'ClientRequest'
    --- property 'agent' closes the circle {
  "stack": "TypeError: Converting circular structure to JSON\n    --> starting at object with constructor 'Agent'\n    |     property 'sockets' -> object with constructor 'Object'\n    |     property 'user-service-user-service:7100:' -> object with constructor 'Array'\n    |     ...\n    |     property '_httpMessage' -> object with constructor 'ClientRequest'\n    --- property 'agent' closes the circle\n    at JSON.stringify (<anonymous>)\n    at Printf.template (/usr/src/app/utils/logger.js:8:37)\n    at Printf.transform (/usr/src/app/node_modules/logform/printf.js:11:26)\n    at Format.transform (/usr/src/app/node_modules/logform/combine.js:20:24)\n    at DerivedLogger._transform (/usr/src/app/node_modules/winston/lib/winston/logger.js:314:29)\n    at Transform._read (/usr/src/app/node_modules/readable-stream/lib/_stream_transform.js:166:10)\n    at Transform._write (/usr/src/app/node_modules/readable-stream/lib/_stream_transform.js:155:83)\n    at doWrite (/usr/src/app/node_modules/readable-stream/lib/_stream_writable.js:390:139)\n    at writeOrBuffer (/usr/src/app/node_modules/readable-stream/lib/_stream_writable.js:381:5)\n    at Writable.write (/usr/src/app/node_modules/readable-stream/lib/_stream_writable.js:302:11)\n    at Axios.request (/usr/src/app/node_modules/axios/dist/node/axios.cjs:4276:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async authenticate (/usr/src/app/middlewares/auth.middleware.js:23:26)"
}
2025-06-13T05:02:03.770Z [error]: Error verifying token with auth service Converting circular structure to JSON
    --> starting at object with constructor 'Agent'
    |     property 'sockets' -> object with constructor 'Object'
    |     property 'user-service-user-service:7100:' -> object with constructor 'Array'
    |     ...
    |     property '_httpMessage' -> object with constructor 'ClientRequest'
    --- property 'agent' closes the circle {
  "stack": "TypeError: Converting circular structure to JSON\n    --> starting at object with constructor 'Agent'\n    |     property 'sockets' -> object with constructor 'Object'\n    |     property 'user-service-user-service:7100:' -> object with constructor 'Array'\n    |     ...\n    |     property '_httpMessage' -> object with constructor 'ClientRequest'\n    --- property 'agent' closes the circle\n    at JSON.stringify (<anonymous>)\n    at Printf.template (/usr/src/app/utils/logger.js:8:37)\n    at Printf.transform (/usr/src/app/node_modules/logform/printf.js:11:26)\n    at Format.transform (/usr/src/app/node_modules/logform/combine.js:20:24)\n    at DerivedLogger._transform (/usr/src/app/node_modules/winston/lib/winston/logger.js:314:29)\n    at Transform._read (/usr/src/app/node_modules/readable-stream/lib/_stream_transform.js:166:10)\n    at Transform._write (/usr/src/app/node_modules/readable-stream/lib/_stream_transform.js:155:83)\n    at doWrite (/usr/src/app/node_modules/readable-stream/lib/_stream_writable.js:390:139)\n    at writeOrBuffer (/usr/src/app/node_modules/readable-stream/lib/_stream_writable.js:381:5)\n    at Writable.write (/usr/src/app/node_modules/readable-stream/lib/_stream_writable.js:302:11)\n    at Axios.request (/usr/src/app/node_modules/axios/dist/node/axios.cjs:4276:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async authenticate (/usr/src/app/middlewares/auth.middleware.js:23:26)"
}
2025-06-13T05:08:17.890Z [error]: Error verifying token with auth service Converting circular structure to JSON
    --> starting at object with constructor 'Agent'
    |     property 'sockets' -> object with constructor 'Object'
    |     property 'user-service-user-service:7100:' -> object with constructor 'Array'
    |     ...
    |     property '_httpMessage' -> object with constructor 'ClientRequest'
    --- property 'agent' closes the circle {
  "stack": "TypeError: Converting circular structure to JSON\n    --> starting at object with constructor 'Agent'\n    |     property 'sockets' -> object with constructor 'Object'\n    |     property 'user-service-user-service:7100:' -> object with constructor 'Array'\n    |     ...\n    |     property '_httpMessage' -> object with constructor 'ClientRequest'\n    --- property 'agent' closes the circle\n    at JSON.stringify (<anonymous>)\n    at Printf.template (/usr/src/app/utils/logger.js:8:37)\n    at Printf.transform (/usr/src/app/node_modules/logform/printf.js:11:26)\n    at Format.transform (/usr/src/app/node_modules/logform/combine.js:20:24)\n    at DerivedLogger._transform (/usr/src/app/node_modules/winston/lib/winston/logger.js:314:29)\n    at Transform._read (/usr/src/app/node_modules/readable-stream/lib/_stream_transform.js:166:10)\n    at Transform._write (/usr/src/app/node_modules/readable-stream/lib/_stream_transform.js:155:83)\n    at doWrite (/usr/src/app/node_modules/readable-stream/lib/_stream_writable.js:390:139)\n    at writeOrBuffer (/usr/src/app/node_modules/readable-stream/lib/_stream_writable.js:381:5)\n    at Writable.write (/usr/src/app/node_modules/readable-stream/lib/_stream_writable.js:302:11)\n    at Axios.request (/usr/src/app/node_modules/axios/dist/node/axios.cjs:4276:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async authenticate (/usr/src/app/middlewares/auth.middleware.js:48:20)"
}
2025-06-13T05:08:20.332Z [error]: Error verifying token with auth service Converting circular structure to JSON
    --> starting at object with constructor 'Agent'
    |     property 'sockets' -> object with constructor 'Object'
    |     property 'user-service-user-service:7100:' -> object with constructor 'Array'
    |     ...
    |     property '_httpMessage' -> object with constructor 'ClientRequest'
    --- property 'agent' closes the circle {
  "stack": "TypeError: Converting circular structure to JSON\n    --> starting at object with constructor 'Agent'\n    |     property 'sockets' -> object with constructor 'Object'\n    |     property 'user-service-user-service:7100:' -> object with constructor 'Array'\n    |     ...\n    |     property '_httpMessage' -> object with constructor 'ClientRequest'\n    --- property 'agent' closes the circle\n    at JSON.stringify (<anonymous>)\n    at Printf.template (/usr/src/app/utils/logger.js:8:37)\n    at Printf.transform (/usr/src/app/node_modules/logform/printf.js:11:26)\n    at Format.transform (/usr/src/app/node_modules/logform/combine.js:20:24)\n    at DerivedLogger._transform (/usr/src/app/node_modules/winston/lib/winston/logger.js:314:29)\n    at Transform._read (/usr/src/app/node_modules/readable-stream/lib/_stream_transform.js:166:10)\n    at Transform._write (/usr/src/app/node_modules/readable-stream/lib/_stream_transform.js:155:83)\n    at doWrite (/usr/src/app/node_modules/readable-stream/lib/_stream_writable.js:390:139)\n    at writeOrBuffer (/usr/src/app/node_modules/readable-stream/lib/_stream_writable.js:381:5)\n    at Writable.write (/usr/src/app/node_modules/readable-stream/lib/_stream_writable.js:302:11)\n    at Axios.request (/usr/src/app/node_modules/axios/dist/node/axios.cjs:4276:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async authenticate (/usr/src/app/middlewares/auth.middleware.js:48:20)"
}
2025-06-13T05:08:21.340Z [error]: Error verifying token with auth service Converting circular structure to JSON
    --> starting at object with constructor 'Agent'
    |     property 'sockets' -> object with constructor 'Object'
    |     property 'user-service-user-service:7100:' -> object with constructor 'Array'
    |     ...
    |     property '_httpMessage' -> object with constructor 'ClientRequest'
    --- property 'agent' closes the circle {
  "stack": "TypeError: Converting circular structure to JSON\n    --> starting at object with constructor 'Agent'\n    |     property 'sockets' -> object with constructor 'Object'\n    |     property 'user-service-user-service:7100:' -> object with constructor 'Array'\n    |     ...\n    |     property '_httpMessage' -> object with constructor 'ClientRequest'\n    --- property 'agent' closes the circle\n    at JSON.stringify (<anonymous>)\n    at Printf.template (/usr/src/app/utils/logger.js:8:37)\n    at Printf.transform (/usr/src/app/node_modules/logform/printf.js:11:26)\n    at Format.transform (/usr/src/app/node_modules/logform/combine.js:20:24)\n    at DerivedLogger._transform (/usr/src/app/node_modules/winston/lib/winston/logger.js:314:29)\n    at Transform._read (/usr/src/app/node_modules/readable-stream/lib/_stream_transform.js:166:10)\n    at Transform._write (/usr/src/app/node_modules/readable-stream/lib/_stream_transform.js:155:83)\n    at doWrite (/usr/src/app/node_modules/readable-stream/lib/_stream_writable.js:390:139)\n    at writeOrBuffer (/usr/src/app/node_modules/readable-stream/lib/_stream_writable.js:381:5)\n    at Writable.write (/usr/src/app/node_modules/readable-stream/lib/_stream_writable.js:302:11)\n    at Axios.request (/usr/src/app/node_modules/axios/dist/node/axios.cjs:4276:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async authenticate (/usr/src/app/middlewares/auth.middleware.js:48:20)"
}
2025-06-13T05:08:22.474Z [error]: Error verifying token with auth service Converting circular structure to JSON
    --> starting at object with constructor 'Agent'
    |     property 'sockets' -> object with constructor 'Object'
    |     property 'user-service-user-service:7100:' -> object with constructor 'Array'
    |     ...
    |     property '_httpMessage' -> object with constructor 'ClientRequest'
    --- property 'agent' closes the circle {
  "stack": "TypeError: Converting circular structure to JSON\n    --> starting at object with constructor 'Agent'\n    |     property 'sockets' -> object with constructor 'Object'\n    |     property 'user-service-user-service:7100:' -> object with constructor 'Array'\n    |     ...\n    |     property '_httpMessage' -> object with constructor 'ClientRequest'\n    --- property 'agent' closes the circle\n    at JSON.stringify (<anonymous>)\n    at Printf.template (/usr/src/app/utils/logger.js:8:37)\n    at Printf.transform (/usr/src/app/node_modules/logform/printf.js:11:26)\n    at Format.transform (/usr/src/app/node_modules/logform/combine.js:20:24)\n    at DerivedLogger._transform (/usr/src/app/node_modules/winston/lib/winston/logger.js:314:29)\n    at Transform._read (/usr/src/app/node_modules/readable-stream/lib/_stream_transform.js:166:10)\n    at Transform._write (/usr/src/app/node_modules/readable-stream/lib/_stream_transform.js:155:83)\n    at doWrite (/usr/src/app/node_modules/readable-stream/lib/_stream_writable.js:390:139)\n    at writeOrBuffer (/usr/src/app/node_modules/readable-stream/lib/_stream_writable.js:381:5)\n    at Writable.write (/usr/src/app/node_modules/readable-stream/lib/_stream_writable.js:302:11)\n    at Axios.request (/usr/src/app/node_modules/axios/dist/node/axios.cjs:4276:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async authenticate (/usr/src/app/middlewares/auth.middleware.js:48:20)"
}
2025-06-13T05:11:22.613Z [error]: Error verifying token with auth service: 
2025-06-13T05:50:31.369Z [error]: Error verifying token with auth service: 
2025-06-13T05:58:11.934Z [error]: Error verifying token with auth service: 
2025-06-13T05:58:17.290Z [error]: Error verifying token with auth service: 
2025-06-13T06:02:29.831Z [error]: Authentication error: decoded is not defined {
  "stack": "ReferenceError: decoded is not defined\n    at authenticate (/usr/src/app/middlewares/auth.middleware.js:23:20)\n    at Layer.handle [as handle_request] (/usr/src/app/node_modules/express/lib/router/layer.js:95:5)\n    at next (/usr/src/app/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/usr/src/app/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/usr/src/app/node_modules/express/lib/router/layer.js:95:5)\n    at /usr/src/app/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/usr/src/app/node_modules/express/lib/router/index.js:346:12)\n    at next (/usr/src/app/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/usr/src/app/node_modules/express/lib/router/index.js:175:3)\n    at router (/usr/src/app/node_modules/express/lib/router/index.js:47:12)"
}
2025-06-13T06:02:29.832Z [error]: 500 - decoded is not defined - /api/payments - POST - ::ffff:172.19.0.12 {
  "stack": "ReferenceError: decoded is not defined\n    at authenticate (/usr/src/app/middlewares/auth.middleware.js:23:20)\n    at Layer.handle [as handle_request] (/usr/src/app/node_modules/express/lib/router/layer.js:95:5)\n    at next (/usr/src/app/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/usr/src/app/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/usr/src/app/node_modules/express/lib/router/layer.js:95:5)\n    at /usr/src/app/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/usr/src/app/node_modules/express/lib/router/index.js:346:12)\n    at next (/usr/src/app/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/usr/src/app/node_modules/express/lib/router/index.js:175:3)\n    at router (/usr/src/app/node_modules/express/lib/router/index.js:47:12)",
  "errors": null
}
2025-06-13T06:02:31.284Z [error]: Authentication error: decoded is not defined {
  "stack": "ReferenceError: decoded is not defined\n    at authenticate (/usr/src/app/middlewares/auth.middleware.js:23:20)\n    at Layer.handle [as handle_request] (/usr/src/app/node_modules/express/lib/router/layer.js:95:5)\n    at next (/usr/src/app/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/usr/src/app/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/usr/src/app/node_modules/express/lib/router/layer.js:95:5)\n    at /usr/src/app/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/usr/src/app/node_modules/express/lib/router/index.js:346:12)\n    at next (/usr/src/app/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/usr/src/app/node_modules/express/lib/router/index.js:175:3)\n    at router (/usr/src/app/node_modules/express/lib/router/index.js:47:12)"
}
2025-06-13T06:02:31.285Z [error]: 500 - decoded is not defined - /api/payments - POST - ::ffff:172.19.0.12 {
  "stack": "ReferenceError: decoded is not defined\n    at authenticate (/usr/src/app/middlewares/auth.middleware.js:23:20)\n    at Layer.handle [as handle_request] (/usr/src/app/node_modules/express/lib/router/layer.js:95:5)\n    at next (/usr/src/app/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/usr/src/app/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/usr/src/app/node_modules/express/lib/router/layer.js:95:5)\n    at /usr/src/app/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/usr/src/app/node_modules/express/lib/router/index.js:346:12)\n    at next (/usr/src/app/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/usr/src/app/node_modules/express/lib/router/index.js:175:3)\n    at router (/usr/src/app/node_modules/express/lib/router/index.js:47:12)",
  "errors": null
}
2025-06-13T06:02:32.905Z [error]: Authentication error: decoded is not defined {
  "stack": "ReferenceError: decoded is not defined\n    at authenticate (/usr/src/app/middlewares/auth.middleware.js:23:20)\n    at Layer.handle [as handle_request] (/usr/src/app/node_modules/express/lib/router/layer.js:95:5)\n    at next (/usr/src/app/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/usr/src/app/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/usr/src/app/node_modules/express/lib/router/layer.js:95:5)\n    at /usr/src/app/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/usr/src/app/node_modules/express/lib/router/index.js:346:12)\n    at next (/usr/src/app/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/usr/src/app/node_modules/express/lib/router/index.js:175:3)\n    at router (/usr/src/app/node_modules/express/lib/router/index.js:47:12)"
}
2025-06-13T06:02:32.910Z [error]: 500 - decoded is not defined - /api/payments - POST - ::ffff:172.19.0.12 {
  "stack": "ReferenceError: decoded is not defined\n    at authenticate (/usr/src/app/middlewares/auth.middleware.js:23:20)\n    at Layer.handle [as handle_request] (/usr/src/app/node_modules/express/lib/router/layer.js:95:5)\n    at next (/usr/src/app/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/usr/src/app/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/usr/src/app/node_modules/express/lib/router/layer.js:95:5)\n    at /usr/src/app/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/usr/src/app/node_modules/express/lib/router/index.js:346:12)\n    at next (/usr/src/app/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/usr/src/app/node_modules/express/lib/router/index.js:175:3)\n    at router (/usr/src/app/node_modules/express/lib/router/index.js:47:12)",
  "errors": null
}
2025-06-13T06:02:43.052Z [error]: Authentication error: decoded is not defined {
  "stack": "ReferenceError: decoded is not defined\n    at authenticate (/usr/src/app/middlewares/auth.middleware.js:23:20)\n    at Layer.handle [as handle_request] (/usr/src/app/node_modules/express/lib/router/layer.js:95:5)\n    at next (/usr/src/app/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/usr/src/app/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/usr/src/app/node_modules/express/lib/router/layer.js:95:5)\n    at /usr/src/app/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/usr/src/app/node_modules/express/lib/router/index.js:346:12)\n    at next (/usr/src/app/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/usr/src/app/node_modules/express/lib/router/index.js:175:3)\n    at router (/usr/src/app/node_modules/express/lib/router/index.js:47:12)"
}
2025-06-13T06:02:43.054Z [error]: 500 - decoded is not defined - /api/payments - POST - ::ffff:172.19.0.12 {
  "stack": "ReferenceError: decoded is not defined\n    at authenticate (/usr/src/app/middlewares/auth.middleware.js:23:20)\n    at Layer.handle [as handle_request] (/usr/src/app/node_modules/express/lib/router/layer.js:95:5)\n    at next (/usr/src/app/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/usr/src/app/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/usr/src/app/node_modules/express/lib/router/layer.js:95:5)\n    at /usr/src/app/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/usr/src/app/node_modules/express/lib/router/index.js:346:12)\n    at next (/usr/src/app/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/usr/src/app/node_modules/express/lib/router/index.js:175:3)\n    at router (/usr/src/app/node_modules/express/lib/router/index.js:47:12)",
  "errors": null
}
2025-06-13T06:04:41.637Z [error]: Error verifying token with auth service: 
2025-06-13T06:04:42.710Z [error]: Error verifying token with auth service: 
2025-06-13T06:04:49.733Z [error]: Error verifying token with auth service: 
2025-06-13T06:04:50.309Z [error]: Error verifying token with auth service: 
2025-06-13T06:05:55.064Z [error]: 500 - Cannot read properties of undefined (reading 'id') - /api/payments - POST - ::ffff:172.19.0.12 {
  "stack": "TypeError: Cannot read properties of undefined (reading 'id')\n    at createPayment (/usr/src/app/controllers/payment.controller.js:27:31)\n    at Layer.handle [as handle_request] (/usr/src/app/node_modules/express/lib/router/layer.js:95:5)\n    at next (/usr/src/app/node_modules/express/lib/router/route.js:149:13)\n    at validate (/usr/src/app/middlewares/validation.middleware.js:9:3)\n    at Layer.handle [as handle_request] (/usr/src/app/node_modules/express/lib/router/layer.js:95:5)\n    at next (/usr/src/app/node_modules/express/lib/router/route.js:149:13)\n    at middleware (/usr/src/app/node_modules/express-validator/lib/middlewares/check.js:16:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
  "errors": null
}
2025-06-13T06:06:05.604Z [error]: 500 - Cannot read properties of undefined (reading 'id') - /api/payments - POST - ::ffff:172.19.0.12 {
  "stack": "TypeError: Cannot read properties of undefined (reading 'id')\n    at createPayment (/usr/src/app/controllers/payment.controller.js:27:31)\n    at Layer.handle [as handle_request] (/usr/src/app/node_modules/express/lib/router/layer.js:95:5)\n    at next (/usr/src/app/node_modules/express/lib/router/route.js:149:13)\n    at validate (/usr/src/app/middlewares/validation.middleware.js:9:3)\n    at Layer.handle [as handle_request] (/usr/src/app/node_modules/express/lib/router/layer.js:95:5)\n    at next (/usr/src/app/node_modules/express/lib/router/route.js:149:13)\n    at middleware (/usr/src/app/node_modules/express-validator/lib/middlewares/check.js:16:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
  "errors": null
}
2025-06-13T06:06:32.817Z [error]: 500 - Cannot read properties of undefined (reading 'id') - /api/payments - POST - ::ffff:172.19.0.12 {
  "stack": "TypeError: Cannot read properties of undefined (reading 'id')\n    at createPayment (/usr/src/app/controllers/payment.controller.js:27:31)\n    at Layer.handle [as handle_request] (/usr/src/app/node_modules/express/lib/router/layer.js:95:5)\n    at next (/usr/src/app/node_modules/express/lib/router/route.js:149:13)\n    at validate (/usr/src/app/middlewares/validation.middleware.js:9:3)\n    at Layer.handle [as handle_request] (/usr/src/app/node_modules/express/lib/router/layer.js:95:5)\n    at next (/usr/src/app/node_modules/express/lib/router/route.js:149:13)\n    at middleware (/usr/src/app/node_modules/express-validator/lib/middlewares/check.js:16:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
  "errors": null
}
2025-06-13T06:06:44.783Z [error]: 500 - Cannot read properties of undefined (reading 'id') - /api/payments - POST - ::ffff:172.19.0.12 {
  "stack": "TypeError: Cannot read properties of undefined (reading 'id')\n    at createPayment (/usr/src/app/controllers/payment.controller.js:27:31)\n    at Layer.handle [as handle_request] (/usr/src/app/node_modules/express/lib/router/layer.js:95:5)\n    at next (/usr/src/app/node_modules/express/lib/router/route.js:149:13)\n    at validate (/usr/src/app/middlewares/validation.middleware.js:9:3)\n    at Layer.handle [as handle_request] (/usr/src/app/node_modules/express/lib/router/layer.js:95:5)\n    at next (/usr/src/app/node_modules/express/lib/router/route.js:149:13)\n    at middleware (/usr/src/app/node_modules/express-validator/lib/middlewares/check.js:16:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
  "errors": null
}
2025-06-13T06:06:52.491Z [error]: 500 - Cannot read properties of undefined (reading 'id') - /api/payments - POST - ::ffff:172.19.0.12 {
  "stack": "TypeError: Cannot read properties of undefined (reading 'id')\n    at createPayment (/usr/src/app/controllers/payment.controller.js:27:31)\n    at Layer.handle [as handle_request] (/usr/src/app/node_modules/express/lib/router/layer.js:95:5)\n    at next (/usr/src/app/node_modules/express/lib/router/route.js:149:13)\n    at validate (/usr/src/app/middlewares/validation.middleware.js:9:3)\n    at Layer.handle [as handle_request] (/usr/src/app/node_modules/express/lib/router/layer.js:95:5)\n    at next (/usr/src/app/node_modules/express/lib/router/route.js:149:13)\n    at middleware (/usr/src/app/node_modules/express-validator/lib/middlewares/check.js:16:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
  "errors": null
}
2025-06-13T06:07:44.340Z [error]: 500 - Cannot read properties of undefined (reading 'id') - /api/payments - POST - ::ffff:172.19.0.12 {
  "stack": "TypeError: Cannot read properties of undefined (reading 'id')\n    at createPayment (/usr/src/app/controllers/payment.controller.js:27:31)\n    at Layer.handle [as handle_request] (/usr/src/app/node_modules/express/lib/router/layer.js:95:5)\n    at next (/usr/src/app/node_modules/express/lib/router/route.js:149:13)\n    at validate (/usr/src/app/middlewares/validation.middleware.js:9:3)\n    at Layer.handle [as handle_request] (/usr/src/app/node_modules/express/lib/router/layer.js:95:5)\n    at next (/usr/src/app/node_modules/express/lib/router/route.js:149:13)\n    at middleware (/usr/src/app/node_modules/express-validator/lib/middlewares/check.js:16:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
  "errors": null
}
2025-06-13T06:07:45.569Z [error]: 500 - Cannot read properties of undefined (reading 'id') - /api/payments - POST - ::ffff:172.19.0.12 {
  "stack": "TypeError: Cannot read properties of undefined (reading 'id')\n    at createPayment (/usr/src/app/controllers/payment.controller.js:27:31)\n    at Layer.handle [as handle_request] (/usr/src/app/node_modules/express/lib/router/layer.js:95:5)\n    at next (/usr/src/app/node_modules/express/lib/router/route.js:149:13)\n    at validate (/usr/src/app/middlewares/validation.middleware.js:9:3)\n    at Layer.handle [as handle_request] (/usr/src/app/node_modules/express/lib/router/layer.js:95:5)\n    at next (/usr/src/app/node_modules/express/lib/router/route.js:149:13)\n    at middleware (/usr/src/app/node_modules/express-validator/lib/middlewares/check.js:16:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
  "errors": null
}
2025-06-13T06:10:59.169Z [error]: 500 - Cannot read properties of undefined (reading 'id') - /api/payments - POST - ::ffff:172.19.0.12 {
  "stack": "TypeError: Cannot read properties of undefined (reading 'id')\n    at createPayment (/usr/src/app/controllers/payment.controller.js:27:31)\n    at Layer.handle [as handle_request] (/usr/src/app/node_modules/express/lib/router/layer.js:95:5)\n    at next (/usr/src/app/node_modules/express/lib/router/route.js:149:13)\n    at validate (/usr/src/app/middlewares/validation.middleware.js:9:3)\n    at Layer.handle [as handle_request] (/usr/src/app/node_modules/express/lib/router/layer.js:95:5)\n    at next (/usr/src/app/node_modules/express/lib/router/route.js:149:13)\n    at middleware (/usr/src/app/node_modules/express-validator/lib/middlewares/check.js:16:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
  "errors": null
}
2025-06-13T06:11:04.686Z [error]: 500 - Cannot read properties of undefined (reading 'id') - /api/payments - POST - ::ffff:172.19.0.12 {
  "stack": "TypeError: Cannot read properties of undefined (reading 'id')\n    at createPayment (/usr/src/app/controllers/payment.controller.js:27:31)\n    at Layer.handle [as handle_request] (/usr/src/app/node_modules/express/lib/router/layer.js:95:5)\n    at next (/usr/src/app/node_modules/express/lib/router/route.js:149:13)\n    at validate (/usr/src/app/middlewares/validation.middleware.js:9:3)\n    at Layer.handle [as handle_request] (/usr/src/app/node_modules/express/lib/router/layer.js:95:5)\n    at next (/usr/src/app/node_modules/express/lib/router/route.js:149:13)\n    at middleware (/usr/src/app/node_modules/express-validator/lib/middlewares/check.js:16:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
  "errors": null
}
2025-06-13T06:12:05.180Z [error]: 500 - Cannot read properties of undefined (reading 'id') - /api/payments - POST - ::ffff:172.19.0.12 {
  "stack": "TypeError: Cannot read properties of undefined (reading 'id')\n    at createPayment (/usr/src/app/controllers/payment.controller.js:27:31)\n    at Layer.handle [as handle_request] (/usr/src/app/node_modules/express/lib/router/layer.js:95:5)\n    at next (/usr/src/app/node_modules/express/lib/router/route.js:149:13)\n    at validate (/usr/src/app/middlewares/validation.middleware.js:9:3)\n    at Layer.handle [as handle_request] (/usr/src/app/node_modules/express/lib/router/layer.js:95:5)\n    at next (/usr/src/app/node_modules/express/lib/router/route.js:149:13)\n    at middleware (/usr/src/app/node_modules/express-validator/lib/middlewares/check.js:16:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
  "errors": null
}
2025-06-13T06:14:57.624Z [error]: API Error: 404 GET /api/bookings/684babae56822b0716d3de44 {
  "data": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\" />\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n    <title>404 Not Found</title>\n    <link rel=\"stylesheet\" href=\"css/style.css\" />\n  </head>\n\n  <body>\n    <h1>Sorry!</h1>\n    <p>The resource you have requested does not exist.</p>\n  </body>\n</html>\n"
}
2025-06-13T06:14:57.627Z [error]: Error getting booking details: Request failed with status code 404 
2025-06-13T06:14:57.627Z [error]: Error creating payment: Request failed with status code 404 
2025-06-13T06:14:57.627Z [error]: 500 - Request failed with status code 404 - /api/payments - POST - ::ffff:172.19.0.12 {
  "stack": "AxiosError: Request failed with status code 404\n    at settle (/usr/src/app/node_modules/axios/dist/node/axios.cjs:2049:12)\n    at IncomingMessage.handleStreamEnd (/usr/src/app/node_modules/axios/dist/node/axios.cjs:3166:11)\n    at IncomingMessage.emit (node:events:530:35)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)\n    at Axios.request (/usr/src/app/node_modules/axios/dist/node/axios.cjs:4276:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PaymentService.getBookingDetails (/usr/src/app/services/payment.service.js:385:24)\n    at async PaymentService.createPayment (/usr/src/app/services/payment.service.js:19:23)\n    at async createPayment (/usr/src/app/controllers/payment.controller.js:28:22)",
  "errors": null
}
2025-06-13T06:14:58.914Z [error]: API Error: 404 GET /api/bookings/684babae56822b0716d3de44 {
  "data": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\" />\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n    <title>404 Not Found</title>\n    <link rel=\"stylesheet\" href=\"css/style.css\" />\n  </head>\n\n  <body>\n    <h1>Sorry!</h1>\n    <p>The resource you have requested does not exist.</p>\n  </body>\n</html>\n"
}
2025-06-13T06:14:58.915Z [error]: Error getting booking details: Request failed with status code 404 
2025-06-13T06:14:58.915Z [error]: Error creating payment: Request failed with status code 404 
2025-06-13T06:14:58.916Z [error]: 500 - Request failed with status code 404 - /api/payments - POST - ::ffff:172.19.0.12 {
  "stack": "AxiosError: Request failed with status code 404\n    at settle (/usr/src/app/node_modules/axios/dist/node/axios.cjs:2049:12)\n    at IncomingMessage.handleStreamEnd (/usr/src/app/node_modules/axios/dist/node/axios.cjs:3166:11)\n    at IncomingMessage.emit (node:events:530:35)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)\n    at Axios.request (/usr/src/app/node_modules/axios/dist/node/axios.cjs:4276:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PaymentService.getBookingDetails (/usr/src/app/services/payment.service.js:385:24)\n    at async PaymentService.createPayment (/usr/src/app/services/payment.service.js:19:23)\n    at async createPayment (/usr/src/app/controllers/payment.controller.js:28:22)",
  "errors": null
}
2025-06-13T06:17:36.346Z [error]: API Error: 401 GET /bookings/"684babae56822b0716d3de44" {
  "data": {
    "message": "User ID and token required"
  }
}
2025-06-13T06:17:36.348Z [error]: Error getting booking details: Request failed with status code 401 
2025-06-13T06:17:36.348Z [error]: Error creating payment: Request failed with status code 401 
2025-06-13T06:17:36.348Z [error]: 500 - Request failed with status code 401 - /api/payments - POST - ::ffff:172.19.0.12 {
  "stack": "AxiosError: Request failed with status code 401\n    at settle (/usr/src/app/node_modules/axios/dist/node/axios.cjs:2049:12)\n    at IncomingMessage.handleStreamEnd (/usr/src/app/node_modules/axios/dist/node/axios.cjs:3166:11)\n    at IncomingMessage.emit (node:events:530:35)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)\n    at Axios.request (/usr/src/app/node_modules/axios/dist/node/axios.cjs:4276:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PaymentService.getBookingDetails (/usr/src/app/services/payment.service.js:385:24)\n    at async PaymentService.createPayment (/usr/src/app/services/payment.service.js:19:23)\n    at async createPayment (/usr/src/app/controllers/payment.controller.js:28:22)",
  "errors": null
}
2025-06-13T06:17:43.619Z [error]: API Error: 401 GET /bookings/684babae56822b0716d3de44 {
  "data": {
    "message": "User ID and token required"
  }
}
2025-06-13T06:17:43.620Z [error]: Error getting booking details: Request failed with status code 401 
2025-06-13T06:17:43.621Z [error]: Error creating payment: Request failed with status code 401 
2025-06-13T06:17:43.622Z [error]: 500 - Request failed with status code 401 - /api/payments - POST - ::ffff:172.19.0.12 {
  "stack": "AxiosError: Request failed with status code 401\n    at settle (/usr/src/app/node_modules/axios/dist/node/axios.cjs:2049:12)\n    at IncomingMessage.handleStreamEnd (/usr/src/app/node_modules/axios/dist/node/axios.cjs:3166:11)\n    at IncomingMessage.emit (node:events:530:35)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)\n    at Axios.request (/usr/src/app/node_modules/axios/dist/node/axios.cjs:4276:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PaymentService.getBookingDetails (/usr/src/app/services/payment.service.js:385:24)\n    at async PaymentService.createPayment (/usr/src/app/services/payment.service.js:19:23)\n    at async createPayment (/usr/src/app/controllers/payment.controller.js:28:22)",
  "errors": null
}
2025-06-13T06:17:44.404Z [error]: API Error: 401 GET /bookings/684babae56822b0716d3de44 {
  "data": {
    "message": "User ID and token required"
  }
}
2025-06-13T06:17:44.405Z [error]: Error getting booking details: Request failed with status code 401 
2025-06-13T06:17:44.405Z [error]: Error creating payment: Request failed with status code 401 
2025-06-13T06:17:44.406Z [error]: 500 - Request failed with status code 401 - /api/payments - POST - ::ffff:172.19.0.12 {
  "stack": "AxiosError: Request failed with status code 401\n    at settle (/usr/src/app/node_modules/axios/dist/node/axios.cjs:2049:12)\n    at IncomingMessage.handleStreamEnd (/usr/src/app/node_modules/axios/dist/node/axios.cjs:3166:11)\n    at IncomingMessage.emit (node:events:530:35)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)\n    at Axios.request (/usr/src/app/node_modules/axios/dist/node/axios.cjs:4276:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PaymentService.getBookingDetails (/usr/src/app/services/payment.service.js:385:24)\n    at async PaymentService.createPayment (/usr/src/app/services/payment.service.js:19:23)\n    at async createPayment (/usr/src/app/controllers/payment.controller.js:28:22)",
  "errors": null
}
2025-06-13T06:17:45.073Z [error]: API Error: 401 GET /bookings/684babae56822b0716d3de44 {
  "data": {
    "message": "User ID and token required"
  }
}
2025-06-13T06:17:45.075Z [error]: Error getting booking details: Request failed with status code 401 
2025-06-13T06:17:45.075Z [error]: Error creating payment: Request failed with status code 401 
2025-06-13T06:17:45.076Z [error]: 500 - Request failed with status code 401 - /api/payments - POST - ::ffff:172.19.0.12 {
  "stack": "AxiosError: Request failed with status code 401\n    at settle (/usr/src/app/node_modules/axios/dist/node/axios.cjs:2049:12)\n    at IncomingMessage.handleStreamEnd (/usr/src/app/node_modules/axios/dist/node/axios.cjs:3166:11)\n    at IncomingMessage.emit (node:events:530:35)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)\n    at Axios.request (/usr/src/app/node_modules/axios/dist/node/axios.cjs:4276:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PaymentService.getBookingDetails (/usr/src/app/services/payment.service.js:385:24)\n    at async PaymentService.createPayment (/usr/src/app/services/payment.service.js:19:23)\n    at async createPayment (/usr/src/app/controllers/payment.controller.js:28:22)",
  "errors": null
}
2025-06-13T06:21:27.871Z [error]: API Error: 401 GET /bookings/"684babae56822b0716d3de44" {
  "data": {
    "message": "User ID and token required"
  }
}
2025-06-13T06:21:27.873Z [error]: Error getting booking details: Request failed with status code 401 
2025-06-13T06:21:27.873Z [error]: Error creating payment: Request failed with status code 401 
2025-06-13T06:21:27.873Z [error]: 500 - Request failed with status code 401 - /api/payments - POST - ::ffff:172.19.0.12 {
  "stack": "AxiosError: Request failed with status code 401\n    at settle (/usr/src/app/node_modules/axios/dist/node/axios.cjs:2049:12)\n    at IncomingMessage.handleStreamEnd (/usr/src/app/node_modules/axios/dist/node/axios.cjs:3166:11)\n    at IncomingMessage.emit (node:events:530:35)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)\n    at Axios.request (/usr/src/app/node_modules/axios/dist/node/axios.cjs:4276:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PaymentService.getBookingDetails (/usr/src/app/services/payment.service.js:385:24)\n    at async PaymentService.createPayment (/usr/src/app/services/payment.service.js:19:23)\n    at async createPayment (/usr/src/app/controllers/payment.controller.js:28:22)",
  "errors": null
}
2025-06-13T06:21:32.470Z [error]: API Error: 401 GET /bookings/684babae56822b0716d3de44 {
  "data": {
    "message": "User ID and token required"
  }
}
2025-06-13T06:21:32.471Z [error]: Error getting booking details: Request failed with status code 401 
2025-06-13T06:21:32.471Z [error]: Error creating payment: Request failed with status code 401 
2025-06-13T06:21:32.472Z [error]: 500 - Request failed with status code 401 - /api/payments - POST - ::ffff:172.19.0.12 {
  "stack": "AxiosError: Request failed with status code 401\n    at settle (/usr/src/app/node_modules/axios/dist/node/axios.cjs:2049:12)\n    at IncomingMessage.handleStreamEnd (/usr/src/app/node_modules/axios/dist/node/axios.cjs:3166:11)\n    at IncomingMessage.emit (node:events:530:35)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)\n    at Axios.request (/usr/src/app/node_modules/axios/dist/node/axios.cjs:4276:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PaymentService.getBookingDetails (/usr/src/app/services/payment.service.js:385:24)\n    at async PaymentService.createPayment (/usr/src/app/services/payment.service.js:19:23)\n    at async createPayment (/usr/src/app/controllers/payment.controller.js:28:22)",
  "errors": null
}
2025-06-13T06:21:33.231Z [error]: API Error: 401 GET /bookings/684babae56822b0716d3de44 {
  "data": {
    "message": "User ID and token required"
  }
}
2025-06-13T06:21:33.235Z [error]: Error getting booking details: Request failed with status code 401 
2025-06-13T06:21:33.236Z [error]: Error creating payment: Request failed with status code 401 
2025-06-13T06:21:33.237Z [error]: 500 - Request failed with status code 401 - /api/payments - POST - ::ffff:172.19.0.12 {
  "stack": "AxiosError: Request failed with status code 401\n    at settle (/usr/src/app/node_modules/axios/dist/node/axios.cjs:2049:12)\n    at IncomingMessage.handleStreamEnd (/usr/src/app/node_modules/axios/dist/node/axios.cjs:3166:11)\n    at IncomingMessage.emit (node:events:530:35)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)\n    at Axios.request (/usr/src/app/node_modules/axios/dist/node/axios.cjs:4276:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PaymentService.getBookingDetails (/usr/src/app/services/payment.service.js:385:24)\n    at async PaymentService.createPayment (/usr/src/app/services/payment.service.js:19:23)\n    at async createPayment (/usr/src/app/controllers/payment.controller.js:28:22)",
  "errors": null
}
2025-06-13T06:23:26.381Z [error]: Error creating payment: Assignment to constant variable. 
2025-06-13T06:23:26.384Z [error]: 500 - Assignment to constant variable. - /api/payments - POST - ::ffff:172.19.0.12 {
  "stack": "TypeError: Assignment to constant variable.\n    at PaymentService.createPayment (/usr/src/app/services/payment.service.js:35:14)\n    at createPayment (/usr/src/app/controllers/payment.controller.js:28:43)\n    at Layer.handle [as handle_request] (/usr/src/app/node_modules/express/lib/router/layer.js:95:5)\n    at next (/usr/src/app/node_modules/express/lib/router/route.js:149:13)\n    at validate (/usr/src/app/middlewares/validation.middleware.js:9:3)\n    at Layer.handle [as handle_request] (/usr/src/app/node_modules/express/lib/router/layer.js:95:5)\n    at next (/usr/src/app/node_modules/express/lib/router/route.js:149:13)\n    at middleware (/usr/src/app/node_modules/express-validator/lib/middlewares/check.js:16:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
  "errors": null
}
2025-06-13T06:23:31.565Z [error]: Error creating payment: Assignment to constant variable. 
2025-06-13T06:23:31.567Z [error]: 500 - Assignment to constant variable. - /api/payments - POST - ::ffff:172.19.0.12 {
  "stack": "TypeError: Assignment to constant variable.\n    at PaymentService.createPayment (/usr/src/app/services/payment.service.js:35:14)\n    at createPayment (/usr/src/app/controllers/payment.controller.js:28:43)\n    at Layer.handle [as handle_request] (/usr/src/app/node_modules/express/lib/router/layer.js:95:5)\n    at next (/usr/src/app/node_modules/express/lib/router/route.js:149:13)\n    at validate (/usr/src/app/middlewares/validation.middleware.js:9:3)\n    at Layer.handle [as handle_request] (/usr/src/app/node_modules/express/lib/router/layer.js:95:5)\n    at next (/usr/src/app/node_modules/express/lib/router/route.js:149:13)\n    at middleware (/usr/src/app/node_modules/express-validator/lib/middlewares/check.js:16:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
  "errors": null
}
2025-06-13T06:24:36.708Z [error]: Error creating payment: Payment validation failed: bookingId: Cast to ObjectId failed for value ""684babae56822b0716d3de44"" (type string) at path "bookingId" because of "BSONError", userId: Path `userId` is required. 
2025-06-13T06:24:36.715Z [error]: 400 - Validation Error - /api/payments - POST - ::ffff:172.19.0.12 {
  "stack": "ValidationError: Payment validation failed: bookingId: Cast to ObjectId failed for value \"\"684babae56822b0716d3de44\"\" (type string) at path \"bookingId\" because of \"BSONError\", userId: Path `userId` is required.\n    at Document.invalidate (/usr/src/app/node_modules/mongoose/lib/document.js:3343:32)\n    at model.$set (/usr/src/app/node_modules/mongoose/lib/document.js:1480:12)\n    at model.$set (/usr/src/app/node_modules/mongoose/lib/document.js:1132:16)\n    at model.Document (/usr/src/app/node_modules/mongoose/lib/document.js:178:12)\n    at model.Model (/usr/src/app/node_modules/mongoose/lib/model.js:127:12)\n    at new model (/usr/src/app/node_modules/mongoose/lib/model.js:4807:15)\n    at PaymentService.createPayment (/usr/src/app/services/payment.service.js:36:23)\n    at createPayment (/usr/src/app/controllers/payment.controller.js:28:43)\n    at Layer.handle [as handle_request] (/usr/src/app/node_modules/express/lib/router/layer.js:95:5)\n    at next (/usr/src/app/node_modules/express/lib/router/route.js:149:13)",
  "errors": [
    "Cast to ObjectId failed for value \"\"684babae56822b0716d3de44\"\" (type string) at path \"bookingId\" because of \"BSONError\"",
    "Path `userId` is required."
  ]
}
2025-06-13T06:24:42.803Z [error]: API Error: 404 PATCH /api/bookings/684babae56822b0716d3de44/payment {
  "data": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\" />\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n    <title>404 Not Found</title>\n    <link rel=\"stylesheet\" href=\"css/style.css\" />\n  </head>\n\n  <body>\n    <h1>Sorry!</h1>\n    <p>The resource you have requested does not exist.</p>\n  </body>\n</html>\n"
}
2025-06-13T06:24:42.804Z [error]: Error updating booking payment: Request failed with status code 404 
2025-06-13T06:24:42.804Z [error]: Error creating payment: Request failed with status code 404 
2025-06-13T06:24:42.805Z [error]: 500 - Request failed with status code 404 - /api/payments - POST - ::ffff:172.19.0.12 {
  "stack": "AxiosError: Request failed with status code 404\n    at settle (/usr/src/app/node_modules/axios/dist/node/axios.cjs:2049:12)\n    at IncomingMessage.handleStreamEnd (/usr/src/app/node_modules/axios/dist/node/axios.cjs:3166:11)\n    at IncomingMessage.emit (node:events:530:35)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)\n    at Axios.request (/usr/src/app/node_modules/axios/dist/node/axios.cjs:4276:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PaymentService.updateBookingPayment (/usr/src/app/services/payment.service.js:401:24)\n    at async PaymentService.createPayment (/usr/src/app/services/payment.service.js:72:7)\n    at async createPayment (/usr/src/app/controllers/payment.controller.js:28:22)",
  "errors": null
}
2025-06-13T06:24:45.565Z [error]: API Error: 404 PATCH /api/bookings/684babae56822b0716d3de44/payment {
  "data": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\" />\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n    <title>404 Not Found</title>\n    <link rel=\"stylesheet\" href=\"css/style.css\" />\n  </head>\n\n  <body>\n    <h1>Sorry!</h1>\n    <p>The resource you have requested does not exist.</p>\n  </body>\n</html>\n"
}
2025-06-13T06:24:45.567Z [error]: Error updating booking payment: Request failed with status code 404 
2025-06-13T06:24:45.567Z [error]: Error creating payment: Request failed with status code 404 
2025-06-13T06:24:45.567Z [error]: 500 - Request failed with status code 404 - /api/payments - POST - ::ffff:172.19.0.12 {
  "stack": "AxiosError: Request failed with status code 404\n    at settle (/usr/src/app/node_modules/axios/dist/node/axios.cjs:2049:12)\n    at IncomingMessage.handleStreamEnd (/usr/src/app/node_modules/axios/dist/node/axios.cjs:3166:11)\n    at IncomingMessage.emit (node:events:530:35)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)\n    at Axios.request (/usr/src/app/node_modules/axios/dist/node/axios.cjs:4276:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PaymentService.updateBookingPayment (/usr/src/app/services/payment.service.js:401:24)\n    at async PaymentService.createPayment (/usr/src/app/services/payment.service.js:72:7)\n    at async createPayment (/usr/src/app/controllers/payment.controller.js:28:22)",
  "errors": null
}
2025-06-13T06:24:49.311Z [error]: API Error: 404 PATCH /api/bookings/684babae56822b0716d3de44/payment {
  "data": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\" />\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n    <title>404 Not Found</title>\n    <link rel=\"stylesheet\" href=\"css/style.css\" />\n  </head>\n\n  <body>\n    <h1>Sorry!</h1>\n    <p>The resource you have requested does not exist.</p>\n  </body>\n</html>\n"
}
2025-06-13T06:24:49.313Z [error]: Error updating booking payment: Request failed with status code 404 
2025-06-13T06:24:49.313Z [error]: Error creating payment: Request failed with status code 404 
2025-06-13T06:24:49.314Z [error]: 500 - Request failed with status code 404 - /api/payments - POST - ::ffff:172.19.0.12 {
  "stack": "AxiosError: Request failed with status code 404\n    at settle (/usr/src/app/node_modules/axios/dist/node/axios.cjs:2049:12)\n    at IncomingMessage.handleStreamEnd (/usr/src/app/node_modules/axios/dist/node/axios.cjs:3166:11)\n    at IncomingMessage.emit (node:events:530:35)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)\n    at Axios.request (/usr/src/app/node_modules/axios/dist/node/axios.cjs:4276:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PaymentService.updateBookingPayment (/usr/src/app/services/payment.service.js:401:24)\n    at async PaymentService.createPayment (/usr/src/app/services/payment.service.js:72:7)\n    at async createPayment (/usr/src/app/controllers/payment.controller.js:28:22)",
  "errors": null
}
2025-06-13T06:28:36.244Z [error]: API Error: 404 PATCH /api/bookings/684babae56822b0716d3de44/payment {
  "data": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\" />\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n    <title>404 Not Found</title>\n    <link rel=\"stylesheet\" href=\"css/style.css\" />\n  </head>\n\n  <body>\n    <h1>Sorry!</h1>\n    <p>The resource you have requested does not exist.</p>\n  </body>\n</html>\n"
}
2025-06-13T06:28:36.245Z [error]: Error updating booking payment: Request failed with status code 404 
2025-06-13T06:28:36.264Z [error]: Error creating payment: Request failed with status code 404 
2025-06-13T06:28:36.265Z [error]: 500 - Request failed with status code 404 - /api/payments - POST - ::ffff:172.19.0.12 {
  "stack": "AxiosError: Request failed with status code 404\n    at settle (/usr/src/app/node_modules/axios/dist/node/axios.cjs:2049:12)\n    at IncomingMessage.handleStreamEnd (/usr/src/app/node_modules/axios/dist/node/axios.cjs:3166:11)\n    at IncomingMessage.emit (node:events:530:35)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)\n    at Axios.request (/usr/src/app/node_modules/axios/dist/node/axios.cjs:4276:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PaymentService.updateBookingPayment (/usr/src/app/services/payment.service.js:401:24)\n    at async PaymentService.createPayment (/usr/src/app/services/payment.service.js:72:7)\n    at async createPayment (/usr/src/app/controllers/payment.controller.js:28:22)",
  "errors": null
}
2025-06-13T06:28:37.783Z [error]: API Error: 404 PATCH /api/bookings/684babae56822b0716d3de44/payment {
  "data": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\" />\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n    <title>404 Not Found</title>\n    <link rel=\"stylesheet\" href=\"css/style.css\" />\n  </head>\n\n  <body>\n    <h1>Sorry!</h1>\n    <p>The resource you have requested does not exist.</p>\n  </body>\n</html>\n"
}
2025-06-13T06:28:37.785Z [error]: Error updating booking payment: Request failed with status code 404 
2025-06-13T06:28:37.785Z [error]: Error creating payment: Request failed with status code 404 
2025-06-13T06:28:37.786Z [error]: 500 - Request failed with status code 404 - /api/payments - POST - ::ffff:172.19.0.12 {
  "stack": "AxiosError: Request failed with status code 404\n    at settle (/usr/src/app/node_modules/axios/dist/node/axios.cjs:2049:12)\n    at IncomingMessage.handleStreamEnd (/usr/src/app/node_modules/axios/dist/node/axios.cjs:3166:11)\n    at IncomingMessage.emit (node:events:530:35)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)\n    at Axios.request (/usr/src/app/node_modules/axios/dist/node/axios.cjs:4276:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PaymentService.updateBookingPayment (/usr/src/app/services/payment.service.js:401:24)\n    at async PaymentService.createPayment (/usr/src/app/services/payment.service.js:72:7)\n    at async createPayment (/usr/src/app/controllers/payment.controller.js:28:22)",
  "errors": null
}
2025-06-13T06:29:06.307Z [error]: Error creating payment: Payment validation failed: bookingId: Cast to ObjectId failed for value ""684babae56822b0716d3de44"" (type string) at path "bookingId" because of "BSONError", userId: Path `userId` is required. 
2025-06-13T06:29:06.311Z [error]: 400 - Validation Error - /api/payments - POST - ::ffff:172.19.0.12 {
  "stack": "ValidationError: Payment validation failed: bookingId: Cast to ObjectId failed for value \"\"684babae56822b0716d3de44\"\" (type string) at path \"bookingId\" because of \"BSONError\", userId: Path `userId` is required.\n    at Document.invalidate (/usr/src/app/node_modules/mongoose/lib/document.js:3343:32)\n    at model.$set (/usr/src/app/node_modules/mongoose/lib/document.js:1480:12)\n    at model.$set (/usr/src/app/node_modules/mongoose/lib/document.js:1132:16)\n    at model.Document (/usr/src/app/node_modules/mongoose/lib/document.js:178:12)\n    at model.Model (/usr/src/app/node_modules/mongoose/lib/model.js:127:12)\n    at new model (/usr/src/app/node_modules/mongoose/lib/model.js:4807:15)\n    at PaymentService.createPayment (/usr/src/app/services/payment.service.js:36:23)\n    at createPayment (/usr/src/app/controllers/payment.controller.js:28:43)\n    at Layer.handle [as handle_request] (/usr/src/app/node_modules/express/lib/router/layer.js:95:5)\n    at next (/usr/src/app/node_modules/express/lib/router/route.js:149:13)",
  "errors": [
    "Cast to ObjectId failed for value \"\"684babae56822b0716d3de44\"\" (type string) at path \"bookingId\" because of \"BSONError\"",
    "Path `userId` is required."
  ]
}
2025-06-13T06:29:07.403Z [error]: Error creating payment: Payment validation failed: bookingId: Cast to ObjectId failed for value ""684babae56822b0716d3de44"" (type string) at path "bookingId" because of "BSONError", userId: Path `userId` is required. 
2025-06-13T06:29:07.405Z [error]: 400 - Validation Error - /api/payments - POST - ::ffff:172.19.0.12 {
  "stack": "ValidationError: Payment validation failed: bookingId: Cast to ObjectId failed for value \"\"684babae56822b0716d3de44\"\" (type string) at path \"bookingId\" because of \"BSONError\", userId: Path `userId` is required.\n    at Document.invalidate (/usr/src/app/node_modules/mongoose/lib/document.js:3343:32)\n    at model.$set (/usr/src/app/node_modules/mongoose/lib/document.js:1480:12)\n    at model.$set (/usr/src/app/node_modules/mongoose/lib/document.js:1132:16)\n    at model.Document (/usr/src/app/node_modules/mongoose/lib/document.js:178:12)\n    at model.Model (/usr/src/app/node_modules/mongoose/lib/model.js:127:12)\n    at new model (/usr/src/app/node_modules/mongoose/lib/model.js:4807:15)\n    at PaymentService.createPayment (/usr/src/app/services/payment.service.js:36:23)\n    at createPayment (/usr/src/app/controllers/payment.controller.js:28:43)\n    at Layer.handle [as handle_request] (/usr/src/app/node_modules/express/lib/router/layer.js:95:5)\n    at next (/usr/src/app/node_modules/express/lib/router/route.js:149:13)",
  "errors": [
    "Cast to ObjectId failed for value \"\"684babae56822b0716d3de44\"\" (type string) at path \"bookingId\" because of \"BSONError\"",
    "Path `userId` is required."
  ]
}
2025-06-13T06:29:08.356Z [error]: Error creating payment: Payment validation failed: bookingId: Cast to ObjectId failed for value ""684babae56822b0716d3de44"" (type string) at path "bookingId" because of "BSONError", userId: Path `userId` is required. 
2025-06-13T06:29:08.359Z [error]: 400 - Validation Error - /api/payments - POST - ::ffff:172.19.0.12 {
  "stack": "ValidationError: Payment validation failed: bookingId: Cast to ObjectId failed for value \"\"684babae56822b0716d3de44\"\" (type string) at path \"bookingId\" because of \"BSONError\", userId: Path `userId` is required.\n    at Document.invalidate (/usr/src/app/node_modules/mongoose/lib/document.js:3343:32)\n    at model.$set (/usr/src/app/node_modules/mongoose/lib/document.js:1480:12)\n    at model.$set (/usr/src/app/node_modules/mongoose/lib/document.js:1132:16)\n    at model.Document (/usr/src/app/node_modules/mongoose/lib/document.js:178:12)\n    at model.Model (/usr/src/app/node_modules/mongoose/lib/model.js:127:12)\n    at new model (/usr/src/app/node_modules/mongoose/lib/model.js:4807:15)\n    at PaymentService.createPayment (/usr/src/app/services/payment.service.js:36:23)\n    at createPayment (/usr/src/app/controllers/payment.controller.js:28:43)\n    at Layer.handle [as handle_request] (/usr/src/app/node_modules/express/lib/router/layer.js:95:5)\n    at next (/usr/src/app/node_modules/express/lib/router/route.js:149:13)",
  "errors": [
    "Cast to ObjectId failed for value \"\"684babae56822b0716d3de44\"\" (type string) at path \"bookingId\" because of \"BSONError\"",
    "Path `userId` is required."
  ]
}
2025-06-13T06:29:09.034Z [error]: Error creating payment: Payment validation failed: bookingId: Cast to ObjectId failed for value ""684babae56822b0716d3de44"" (type string) at path "bookingId" because of "BSONError", userId: Path `userId` is required. 
2025-06-13T06:29:09.036Z [error]: 400 - Validation Error - /api/payments - POST - ::ffff:172.19.0.12 {
  "stack": "ValidationError: Payment validation failed: bookingId: Cast to ObjectId failed for value \"\"684babae56822b0716d3de44\"\" (type string) at path \"bookingId\" because of \"BSONError\", userId: Path `userId` is required.\n    at Document.invalidate (/usr/src/app/node_modules/mongoose/lib/document.js:3343:32)\n    at model.$set (/usr/src/app/node_modules/mongoose/lib/document.js:1480:12)\n    at model.$set (/usr/src/app/node_modules/mongoose/lib/document.js:1132:16)\n    at model.Document (/usr/src/app/node_modules/mongoose/lib/document.js:178:12)\n    at model.Model (/usr/src/app/node_modules/mongoose/lib/model.js:127:12)\n    at new model (/usr/src/app/node_modules/mongoose/lib/model.js:4807:15)\n    at PaymentService.createPayment (/usr/src/app/services/payment.service.js:36:23)\n    at createPayment (/usr/src/app/controllers/payment.controller.js:28:43)\n    at Layer.handle [as handle_request] (/usr/src/app/node_modules/express/lib/router/layer.js:95:5)\n    at next (/usr/src/app/node_modules/express/lib/router/route.js:149:13)",
  "errors": [
    "Cast to ObjectId failed for value \"\"684babae56822b0716d3de44\"\" (type string) at path \"bookingId\" because of \"BSONError\"",
    "Path `userId` is required."
  ]
}
2025-06-13T06:29:19.955Z [error]: Error creating payment: Payment validation failed: bookingId: Cast to ObjectId failed for value ""684babae56822b0716d3de44"" (type string) at path "bookingId" because of "BSONError", userId: Path `userId` is required. 
2025-06-13T06:29:19.957Z [error]: 400 - Validation Error - /api/payments - POST - ::ffff:172.19.0.12 {
  "stack": "ValidationError: Payment validation failed: bookingId: Cast to ObjectId failed for value \"\"684babae56822b0716d3de44\"\" (type string) at path \"bookingId\" because of \"BSONError\", userId: Path `userId` is required.\n    at Document.invalidate (/usr/src/app/node_modules/mongoose/lib/document.js:3343:32)\n    at model.$set (/usr/src/app/node_modules/mongoose/lib/document.js:1480:12)\n    at model.$set (/usr/src/app/node_modules/mongoose/lib/document.js:1132:16)\n    at model.Document (/usr/src/app/node_modules/mongoose/lib/document.js:178:12)\n    at model.Model (/usr/src/app/node_modules/mongoose/lib/model.js:127:12)\n    at new model (/usr/src/app/node_modules/mongoose/lib/model.js:4807:15)\n    at PaymentService.createPayment (/usr/src/app/services/payment.service.js:36:23)\n    at createPayment (/usr/src/app/controllers/payment.controller.js:28:43)\n    at Layer.handle [as handle_request] (/usr/src/app/node_modules/express/lib/router/layer.js:95:5)\n    at next (/usr/src/app/node_modules/express/lib/router/route.js:149:13)",
  "errors": [
    "Cast to ObjectId failed for value \"\"684babae56822b0716d3de44\"\" (type string) at path \"bookingId\" because of \"BSONError\"",
    "Path `userId` is required."
  ]
}
2025-06-13T06:29:21.094Z [error]: Error creating payment: Payment validation failed: bookingId: Cast to ObjectId failed for value ""684babae56822b0716d3de44"" (type string) at path "bookingId" because of "BSONError", userId: Path `userId` is required. 
2025-06-13T06:29:21.096Z [error]: 400 - Validation Error - /api/payments - POST - ::ffff:172.19.0.12 {
  "stack": "ValidationError: Payment validation failed: bookingId: Cast to ObjectId failed for value \"\"684babae56822b0716d3de44\"\" (type string) at path \"bookingId\" because of \"BSONError\", userId: Path `userId` is required.\n    at Document.invalidate (/usr/src/app/node_modules/mongoose/lib/document.js:3343:32)\n    at model.$set (/usr/src/app/node_modules/mongoose/lib/document.js:1480:12)\n    at model.$set (/usr/src/app/node_modules/mongoose/lib/document.js:1132:16)\n    at model.Document (/usr/src/app/node_modules/mongoose/lib/document.js:178:12)\n    at model.Model (/usr/src/app/node_modules/mongoose/lib/model.js:127:12)\n    at new model (/usr/src/app/node_modules/mongoose/lib/model.js:4807:15)\n    at PaymentService.createPayment (/usr/src/app/services/payment.service.js:36:23)\n    at createPayment (/usr/src/app/controllers/payment.controller.js:28:43)\n    at Layer.handle [as handle_request] (/usr/src/app/node_modules/express/lib/router/layer.js:95:5)\n    at next (/usr/src/app/node_modules/express/lib/router/route.js:149:13)",
  "errors": [
    "Cast to ObjectId failed for value \"\"684babae56822b0716d3de44\"\" (type string) at path \"bookingId\" because of \"BSONError\"",
    "Path `userId` is required."
  ]
}
2025-06-13T06:34:29.675Z [error]: Error creating payment: Payment validation failed: bookingId: Cast to ObjectId failed for value ""684babae56822b0716d3de44"" (type string) at path "bookingId" because of "BSONError" 
2025-06-13T06:34:29.680Z [error]: 400 - Validation Error - /api/payments - POST - ::ffff:172.19.0.12 {
  "stack": "ValidationError: Payment validation failed: bookingId: Cast to ObjectId failed for value \"\"684babae56822b0716d3de44\"\" (type string) at path \"bookingId\" because of \"BSONError\"\n    at Document.invalidate (/usr/src/app/node_modules/mongoose/lib/document.js:3343:32)\n    at model.$set (/usr/src/app/node_modules/mongoose/lib/document.js:1480:12)\n    at model.$set (/usr/src/app/node_modules/mongoose/lib/document.js:1132:16)\n    at model.Document (/usr/src/app/node_modules/mongoose/lib/document.js:178:12)\n    at model.Model (/usr/src/app/node_modules/mongoose/lib/model.js:127:12)\n    at new model (/usr/src/app/node_modules/mongoose/lib/model.js:4807:15)\n    at PaymentService.createPayment (/usr/src/app/services/payment.service.js:36:23)\n    at createPayment (/usr/src/app/controllers/payment.controller.js:28:43)\n    at Layer.handle [as handle_request] (/usr/src/app/node_modules/express/lib/router/layer.js:95:5)\n    at next (/usr/src/app/node_modules/express/lib/router/route.js:149:13)",
  "errors": [
    "Cast to ObjectId failed for value \"\"684babae56822b0716d3de44\"\" (type string) at path \"bookingId\" because of \"BSONError\""
  ]
}
2025-06-13T06:35:48.375Z [error]: Error creating payment: Payment validation failed: bookingId: Cast to ObjectId failed for value ""684babae56822b0716d3de44"" (type string) at path "bookingId" because of "BSONError" 
2025-06-13T06:35:48.377Z [error]: 400 - Validation Error - /api/payments - POST - ::ffff:172.19.0.12 {
  "stack": "ValidationError: Payment validation failed: bookingId: Cast to ObjectId failed for value \"\"684babae56822b0716d3de44\"\" (type string) at path \"bookingId\" because of \"BSONError\"\n    at Document.invalidate (/usr/src/app/node_modules/mongoose/lib/document.js:3343:32)\n    at model.$set (/usr/src/app/node_modules/mongoose/lib/document.js:1480:12)\n    at model.$set (/usr/src/app/node_modules/mongoose/lib/document.js:1132:16)\n    at model.Document (/usr/src/app/node_modules/mongoose/lib/document.js:178:12)\n    at model.Model (/usr/src/app/node_modules/mongoose/lib/model.js:127:12)\n    at new model (/usr/src/app/node_modules/mongoose/lib/model.js:4807:15)\n    at PaymentService.createPayment (/usr/src/app/services/payment.service.js:36:23)\n    at createPayment (/usr/src/app/controllers/payment.controller.js:28:43)\n    at Layer.handle [as handle_request] (/usr/src/app/node_modules/express/lib/router/layer.js:95:5)\n    at next (/usr/src/app/node_modules/express/lib/router/route.js:149:13)",
  "errors": [
    "Cast to ObjectId failed for value \"\"684babae56822b0716d3de44\"\" (type string) at path \"bookingId\" because of \"BSONError\""
  ]
}
